<template>
  <div>

    <div id="login" class="container" v-if="!isConnected">
  <div class="row-fluid">
    <div class="span12">
      <div class="login well well-small">
        <div class="center">
          <img src="../assets/favicon.png" alt="logo">
        </div>
        <form style="" class="login-form" id="UserLoginForm" method="post" accept-charset="utf-8">
          <div class="control-group">
            <div class="input-prepend">
              <span class="add-on"><i class="icon-user"></i></span>
              <input name="data[User][username]" required="required" placeholder="Username" maxlength="255" type="text" id="UserUsername" v-model="UserUsername">
            </div>
          </div>
          <div class="control-group">
            <div class="input-prepend">
              <span class="add-on"><i class="icon-lock"></i></span>
              <input name="data[User][password]" required="required" placeholder="Password" type="password" id="UserPassword" v-model="UserPassword">
            </div>
          </div>
          <div class="control-group">
            <label id="remember-me">
              <input type="checkbox" name="data[User][remember_me]" value="1" id="UserRememberMe"> Remember me</label>
          </div>
          <div class="control-group">
            <input class="btn btn-primary btn-large btn-block" type="button" value="SIGN IN" @click="connect()">
          </div>
        </form>
      </div><!--/.login-->
    </div><!--/.span12-->
  </div><!--/.row-fluid-->
</div><!--/.container-->

    <div class="center" v-if="isConnected">
      <svg version="1.1" id="_x31_" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="361.95px" height="340px" viewBox="0 0 361.95 340" enable-background="new 0 0 361.95 340" xml:space="preserve">
        <g>
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#BDC3C7" d="M137.438,240.934c6.711-71.041,44.789-118.711,84.009-139.86
  		c35.653,90.196,29.316,87.977-9.598,71.694c-25.106-10.503-29.976,0.325-43.174,22.828
  		C150.57,226.469,141.203,242.033,137.438,240.934z" />
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#99A6AD" d="M154.432,219.576c0,0,14.283-72.236,67.016-118.502
  		l-60.858,39.346l-23.15,100.514c0,0,1.951,0.748,5.545-4.15C146.578,231.885,154.432,219.576,154.432,219.576z" />
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#34495E" d="M137.438,240.934c-4.952-1.42-0.233-31.619,7.05-93.764
  		c-23.425-17.899-37.48-29.4-43.623-37.229c51.501,17.028,90.86,4.492,120.582-8.867
  		C186.305,131.593,156.652,159.379,137.438,240.934z" />
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#21303D" d="M101.802,110.243c4.752,3.333,45.531,30.301,96.944,11.532h0.002
  		c7.254-7.184,14.84-13.875,22.699-20.701c-6.871,3.202-13.7,5.931-20.489,8.2C174.479,118.376,141.824,123.236,101.802,110.243z" />
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#1ABC9C" d="M100.826,109.887c0.105,0.067,56.552,36.16,120.621-8.813
  		c45.434-111.534,42.009-109.138,3.659-69.778c-15.334,15.74-29.884,27.661-44.578,36.686
  		C157.364,97.647,131.256,104.135,100.826,109.887z" />
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#11A588" d="M100.865,109.941c36.557-2.59,63.009-16.689,79.663-41.959
  		c3.207-2.113,6.414-4.228,9.623-6.342C188.235,83.703,165.481,117.365,100.865,109.941z" />
          <path fill-rule="evenodd" clip-rule="evenodd" fill="#34495E" d="M180.528,67.982c-6.962,18.538-24.455,44.055-79.702,41.905
  		c-9.519-12.168,0.136-15.441,23.42-20.119c10.515-2.113,20.504-4.954,30.211-8.762c-14.008-2.659-27.326-14.846-31.252-29.48
  		c-4.448-16.581,4.844-30.021,20.753-30.021c15.911,0,32.42,13.441,36.866,30.021C182.454,57.602,182.239,63.256,180.528,67.982z" />
        </g>
        <g>
          <path fill="#34495E" d="M18.95,316.359c-5.218-1.5-9.015-3.344-11.392-5.53c-2.376-2.187-3.565-4.885-3.565-8.097
  		c0-3.633,1.452-6.639,4.357-9.015c2.904-2.377,6.681-3.565,11.329-3.565c3.169,0,5.994,0.613,8.477,1.838
  		c2.482,1.226,4.405,2.916,5.767,5.07c1.363,2.155,2.044,4.511,2.044,7.066h-6.116c0-2.798-0.887-4.998-2.662-6.599
  		c-1.775-1.6-4.278-2.4-7.51-2.4c-3,0-5.34,0.661-7.019,1.984c-1.68,1.323-2.52,3.158-2.52,5.507c0,1.885,0.797,3.478,2.393,4.778
  		c1.595,1.302,4.31,2.492,8.144,3.571s6.834,2.269,9,3.568c2.165,1.299,3.771,2.815,4.817,4.547
  		c1.045,1.732,1.568,3.771,1.568,6.116c0,3.739-1.458,6.733-4.373,8.983c-2.915,2.25-6.813,3.375-11.693,3.375
  		c-3.169,0-6.127-0.607-8.873-1.822c-2.747-1.215-4.864-2.878-6.354-4.991c-1.489-2.112-2.234-4.51-2.234-7.193h6.116
  		c0,2.789,1.03,4.991,3.09,6.607c2.06,1.616,4.811,2.424,8.255,2.424c3.211,0,5.672-0.654,7.383-1.964
  		c1.711-1.31,2.567-3.095,2.567-5.355s-0.792-4.009-2.377-5.245C25.984,318.783,23.111,317.563,18.95,316.359z" />
          <path fill="#34495E" d="M48.452,302.638l0.159,3.803c2.514-2.957,5.904-4.437,10.172-4.437c4.795,0,8.059,1.838,9.792,5.514
  		c1.141-1.647,2.625-2.979,4.453-3.992c1.827-1.015,3.987-1.521,6.48-1.521c7.521,0,11.345,3.982,11.471,11.946v22.975h-5.862
  		v-22.626c0-2.45-0.56-4.282-1.679-5.498c-1.12-1.214-3-1.821-5.641-1.821c-2.176,0-3.982,0.649-5.419,1.948
  		c-1.437,1.3-2.271,3.048-2.503,5.245v22.752h-5.894v-22.467c0-4.986-2.44-7.479-7.32-7.479c-3.845,0-6.476,1.637-7.891,4.911
  		v25.034h-5.862v-34.287H48.452z" />
          <path fill="#34495E" d="M120.987,336.925c-0.338-0.676-0.613-1.88-0.824-3.612c-2.725,2.831-5.979,4.246-9.76,4.246
  		c-3.38,0-6.153-0.956-8.318-2.868c-2.166-1.911-3.248-4.336-3.248-7.272c0-3.569,1.357-6.343,4.072-8.318
  		c2.714-1.975,6.533-2.963,11.456-2.963h5.704v-2.693c0-2.049-0.613-3.681-1.838-4.896c-1.226-1.215-3.032-1.822-5.419-1.822
  		c-2.091,0-3.845,0.528-5.26,1.584c-1.416,1.057-2.123,2.335-2.123,3.835h-5.894c0-1.711,0.607-3.364,1.822-4.959
  		c1.215-1.596,2.862-2.857,4.943-3.787c2.081-0.93,4.368-1.395,6.861-1.395c3.95,0,7.045,0.988,9.285,2.963
  		c2.239,1.976,3.401,4.695,3.486,8.16v15.78c0,3.148,0.401,5.651,1.204,7.511v0.507H120.987z M111.258,332.457
  		c1.838,0,3.581-0.476,5.229-1.427c1.648-0.95,2.841-2.187,3.581-3.707v-7.035h-4.595c-7.183,0-10.774,2.103-10.774,6.307
  		c0,1.838,0.612,3.274,1.838,4.31C107.762,331.939,109.335,332.457,111.258,332.457z" />
          <path fill="#34495E" d="M151.693,307.898c-0.887-0.147-1.849-0.222-2.883-0.222c-3.845,0-6.454,1.637-7.827,4.911v24.337h-5.862
  		v-34.287h5.704l0.095,3.961c1.922-3.063,4.647-4.595,8.176-4.595c1.141,0,2.007,0.148,2.598,0.443V307.898z" />
          <path fill="#34495E" d="M166.618,294.335v8.303h6.401v4.531h-6.401v21.29c0,1.375,0.285,2.406,0.855,3.094
  		c0.571,0.688,1.542,1.03,2.916,1.03c0.676,0,1.605-0.126,2.789-0.38v4.726c-1.542,0.42-3.042,0.63-4.5,0.63
  		c-2.62,0-4.595-0.792-5.926-2.377c-1.331-1.584-1.997-3.834-1.997-6.749v-21.264h-6.243v-4.531h6.243v-8.303H166.618z" />
          <path fill="#34495E" d="M231.422,316.359c0,4.246-0.734,7.975-2.202,11.186c-1.469,3.212-3.565,5.684-6.291,7.415
  		c-2.725,1.732-5.873,2.599-9.442,2.599c-5.388,0-9.739-1.928-13.056-5.783c-3.317-3.855-4.976-9.058-4.976-15.606v-4.754
  		c0-4.203,0.745-7.927,2.234-11.17c1.489-3.242,3.597-5.735,6.321-7.479c2.726-1.742,5.862-2.614,9.412-2.614
  		c3.549,0,6.681,0.855,9.396,2.567c2.714,1.711,4.812,4.13,6.29,7.256c1.479,3.127,2.25,6.75,2.313,10.869V316.359z
  		 M227.524,311.353c0-5.557-1.258-9.908-3.771-13.056c-2.514-3.148-5.957-4.722-10.33-4.722c-4.289,0-7.706,1.579-10.252,4.737
  		s-3.818,7.568-3.818,13.229v4.817c0,5.472,1.268,9.808,3.803,13.008s5.979,4.801,10.331,4.801c4.415,0,7.858-1.579,10.33-4.737
  		s3.708-7.558,3.708-13.198V311.353z" />
          <path fill="#34495E" d="M243.083,336.925v-31.182h-5.673v-3.105h5.673v-4.151c0-3.506,0.892-6.2,2.678-8.08
  		c1.784-1.88,4.272-2.82,7.462-2.82c1.437,0,2.778,0.178,4.024,0.533l-0.285,3.143c-1.057-0.254-2.207-0.38-3.454-0.38
  		c-2.091,0-3.718,0.651-4.88,1.954s-1.742,3.15-1.742,5.544v4.258h8.175v3.105h-8.175v31.182H243.083z" />
          <path fill="#34495E" d="M264.568,336.925v-31.182h-5.673v-3.105h5.673v-4.151c0-3.506,0.892-6.2,2.678-8.08
  		c1.784-1.88,4.272-2.82,7.462-2.82c1.437,0,2.778,0.178,4.024,0.533l-0.285,3.143c-1.057-0.254-2.207-0.38-3.454-0.38
  		c-2.091,0-3.718,0.651-4.88,1.954s-1.742,3.15-1.742,5.544v4.258h8.175v3.105h-8.175v31.182H264.568z" />
          <path fill="#34495E" d="M283.105,292.735c0-0.714,0.232-1.317,0.697-1.811c0.464-0.493,1.098-0.74,1.901-0.74
  		c0.803,0,1.441,0.247,1.917,0.74s0.713,1.097,0.713,1.811s-0.237,1.312-0.713,1.795s-1.114,0.724-1.917,0.724
  		c-0.804,0-1.438-0.24-1.901-0.724C283.338,294.047,283.105,293.449,283.105,292.735z M287.573,336.925h-3.803v-34.287h3.803
  		V336.925z" />
          <path fill="#34495E" d="M310.548,334.358c2.641,0,4.853-0.745,6.639-2.234c1.785-1.489,2.751-3.417,2.899-5.783h3.644
  		c-0.105,2.092-0.76,3.998-1.964,5.72s-2.805,3.069-4.801,4.04c-1.997,0.972-4.136,1.458-6.417,1.458
  		c-4.5,0-8.065-1.563-10.695-4.689c-2.63-3.127-3.945-7.331-3.945-12.612v-1.141c0-3.38,0.592-6.37,1.774-8.968
  		c1.184-2.599,2.879-4.605,5.086-6.021c2.208-1.415,4.79-2.123,7.748-2.123c3.761,0,6.86,1.12,9.301,3.359s3.744,5.187,3.913,8.841
  		h-3.644c-0.17-2.683-1.136-4.849-2.899-6.496c-1.765-1.647-3.988-2.472-6.671-2.472c-3.422,0-6.079,1.235-7.97,3.707
  		s-2.836,5.938-2.836,10.395v1.108c0,4.373,0.945,7.785,2.836,10.236C304.437,333.133,307.104,334.358,310.548,334.358z" />
          <path fill="#34495E" d="M344.581,337.559c-2.915,0-5.551-0.718-7.906-2.155c-2.355-1.436-4.188-3.438-5.498-6.005
  		c-1.31-2.566-1.965-5.444-1.965-8.635v-1.362c0-3.296,0.639-6.264,1.918-8.905c1.277-2.64,3.058-4.716,5.339-6.227
  		c2.282-1.51,4.754-2.266,7.415-2.266c4.162,0,7.463,1.421,9.903,4.263c2.439,2.841,3.66,6.723,3.66,11.646v2.123h-24.464v0.729
  		c0,3.888,1.114,7.125,3.343,9.713s5.033,3.882,8.413,3.882c2.028,0,3.819-0.37,5.372-1.109s2.963-1.922,4.23-3.549l2.376,1.806
  		C353.93,335.541,349.884,337.559,344.581,337.559z M343.884,305.236c-2.852,0-5.255,1.046-7.209,3.137
  		c-1.954,2.092-3.143,4.901-3.564,8.43h20.565v-0.412c-0.105-3.296-1.046-5.979-2.82-8.049S346.757,305.236,343.884,305.236z" />
        </g>
      </svg>

      <h1 class="vux-title" style="display:none;">
        <span class="demo-icon" slot="icon" style="font-size:60px;color:#35495e;display: block;">&#xe637;</span>
      </h1>
      <p class="vux-notice">v{{version}}</p>
    </div>
    <group>
      <cell title="Github" link="https://github.com/rasimavci/experimental-client-4">
        <span class="demo-icon" slot="icon" style="color:#35495e;">&#xe62f;</span>
      </cell>
    </group>
    <br>
    <p class="vue-version">JSL version: kandy.link 3.0.0</p>
  </div>
</template>

<script>
import { Cell, Group, Badge, Divider } from 'vux'
import { mapState } from 'vuex'

const pkg = require('../../package.json')
const version = pkg.version
const vueVersion = pkg.devDependencies.vue

export default {
  components: {
    Cell,
    Group,
    Badge,
    Divider
  },
  data () {
    return {
      login: false,
      version,
      vueVersion,
      UserUsername: '',
      UserPassword: ''
    }
  },
  methods: {
    connect () {
      this.login = true
      console.log(this.UserUsername)
      this.$store.dispatch('connect', {
        username: this.UserUsername, // 'oztemur@genband.com',
        password: this.UserPassword // 'Genband.1234'
      })
    }
  },
  computed: {
    ...mapState({
      isConnected: state => state.vux.isConnected
    })
  }
}
</script>

<style scoped>
.vue-version {
  text-align: center;
  font-size: 12px;
  color: #ccc;
}

.center {
  margin-top: 15px;
  text-align: center;
}

.vux-notice {
  color: #666;
  line-height: 40px;
}

.demo-icon {
  margin-right: 15px;
}

.vux-title {
  vertical-align: middle;
  text-align: center;
  color: #04BE02;
  display: inline-block;
  width: 75px;
  height: 75px;
  line-height: 75px;
  border-radius: 50%;
}

body {
  font-family: Helvetica, sans-serif;
  background-color: #fbf9fe;
}

.demo-tip {
  background-color: #fefcec;
  color: #f76a24;
  font-size: 12px;
  padding: 5px 10px;
  margin-top: 15px;
}
</style>
